{"version":3,"sources":["components/assets/Preloader_2.gif","logo.svg","modules/station.js","components/Map.js","components/Main.js","App.js","modules/index.js","index.js"],"names":["module","exports","GET_LIST","initialState","loading","data","error","kakao","window","Map","stations","useEffect","container","document","getElementById","options","center","maps","LatLng","level","map","positions","i","length","title","stationName","latlng","stationLatitude","stationLongitude","stationId","rackTotCnt","parkingBikeTotCnt","imageSize","Size","markerImage","MarkerImage","marker","Marker","position","image","clickable","iwContent","infowindow","InfoWindow","content","removable","event","addListener","open","id","style","width","height","Loading","styled","div","LIMG","fetchData","a","axios","get","response","fetchData2","Main","dispatch","useDispatch","useSelector","state","station","list","list2","data2","callBack","callBack2","type","rentBikeStatus","row","stations2","stations1","concat","App","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","applyMiddleware","reduxThunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.73c9cc7e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Preloader_2.a8c98ef9.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","const GET_LIST = \"station/GET_LIST\";\r\nconst GET_LIST_SUCCESS = \"station/GET_LIST_SUCCESS\";\r\nconst GET_LIST_ERROR = \"station/GET_LIST_ERROR\";\r\n\r\nexport const getList = (callBack, callBack2) => async (dispatch) => {\r\n  dispatch({ type: GET_LIST });\r\n  try {\r\n    const data = await callBack();\r\n    const data2 = await callBack2();\r\n    dispatch({ type: GET_LIST_SUCCESS, data, data2 });\r\n  } catch (e) {\r\n    dispatch({ type: GET_LIST_ERROR, error: e });\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: null,\r\n  error: null,\r\n};\r\n\r\nexport default function station(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_LIST:\r\n      return {\r\n        loading: true,\r\n        data: null,\r\n        error: null,\r\n      };\r\n    case GET_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        data: action.data,\r\n        data2: action.data2,\r\n        error: null,\r\n      };\r\n    case GET_LIST_ERROR:\r\n      return {\r\n        loading: false,\r\n        data: null,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nconst { kakao } = window;\r\nexport default function Map({ stations }) {\r\n  useEffect(() => {\r\n    const container = document.getElementById(\"map\");\r\n    const options = {\r\n      center: new kakao.maps.LatLng(37.524, 126.987284),\r\n      level: 8,\r\n    };\r\n    const map = new kakao.maps.Map(container, options);\r\n\r\n    let positions = [];\r\n    for (let i = 0; i < stations.length; i++) {\r\n      positions[i] = {\r\n        title: stations[i].stationName,\r\n        latlng: new kakao.maps.LatLng(\r\n          stations[i].stationLatitude,\r\n          stations[i].stationLongitude\r\n        ),\r\n        stationId: stations[i].stationId,\r\n        rackTotCnt: stations[i].rackTotCnt,\r\n        parkingBikeTotCnt: stations[i].parkingBikeTotCnt,\r\n      };\r\n    }\r\n    var imageSrc =\r\n      \"https://cdn.pixabay.com/photo/2019/10/13/22/00/bike-4547306_640.png\";\r\n\r\n    for (let i = 0; i < positions.length; i++) {\r\n      // 마커 이미지의 이미지 크기 입니다\r\n      const imageSize = new kakao.maps.Size(24, 24);\r\n\r\n      // 마커 이미지를 생성합니다\r\n      const markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);\r\n\r\n      // 마커를 생성합니다\r\n      const marker = new kakao.maps.Marker({\r\n        map: map, // 마커를 표시할 지도\r\n        position: positions[i].latlng, // 마커를 표시할 위치\r\n        title: positions[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다\r\n        image: markerImage, // 마커 이미지\r\n        clickable: true,\r\n      });\r\n\r\n      let iwContent = `<div style=\"padding:10px;\">이름:${positions[i].title} </br> 총거치대:${positions[i].rackTotCnt}</br>이용가능대수:${positions[i].parkingBikeTotCnt} </div>`, // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다\r\n        iwRemoveable = true; // removeable 속성을 ture 로 설정하면 인포윈도우를 닫을 수 있는 x버튼이 표시됩니다\r\n\r\n      // 인포윈도우를 생성합니다\r\n      let infowindow = new kakao.maps.InfoWindow({\r\n        content: iwContent,\r\n        removable: iwRemoveable,\r\n      });\r\n\r\n      // 마커에 클릭이벤트를 등록합니다\r\n      kakao.maps.event.addListener(marker, \"click\", function () {\r\n        // 마커 위에 인포윈도우를 표시합니다\r\n        infowindow.open(map, marker);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      id=\"map\"\r\n      style={{\r\n        width: \"100vw\",\r\n        height: \"100vh\",\r\n      }}\r\n    ></div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getList } from \"../modules/station\";\r\nimport styled from \"styled-components\";\r\nimport LIMG from \"./assets/Preloader_2.gif\";\r\nimport Map from \"./Map\";\r\n\r\nconst Loading = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-image: url(${LIMG});\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n`;\r\n\r\nasync function fetchData() {\r\n  const response = await axios.get(\r\n    \"http://openapi.seoul.go.kr:8088/7856574d457968673934516650706d/json/bikeList/1/1000/\"\r\n  );\r\n  return response.data;\r\n}\r\nasync function fetchData2() {\r\n  const response = await axios.get(\r\n    \"http://openapi.seoul.go.kr:8088/7856574d457968673934516650706d/json/bikeList/1001/2000/\"\r\n  );\r\n  return response.data;\r\n}\r\nexport default function Main() {\r\n  const dispatch = useDispatch();\r\n  const { loading, data: list, data2: list2, error } = useSelector(\r\n    (state) => state.station\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(getList(fetchData, fetchData2));\r\n  }, [dispatch]);\r\n\r\n  if (loading) return <Loading></Loading>;\r\n  if (error) return <div>123123</div>;\r\n  if (!list || !list2) return <div>222</div>;\r\n  const stations = list.rentBikeStatus.row;\r\n  const stations2 = list2.rentBikeStatus.row;\r\n  const stations1 = stations.concat(stations2);\r\n  return (\r\n    <div>\r\n      <Map stations={stations1} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport logo from \"./logo.svg\";\r\nimport \"./App.css\";\r\nimport Main from \"./components/Main\";\r\n\r\nfunction App() {\r\n  return (\r\n    <div>\r\n      <Main />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\r\nimport station from \"./station\";\r\n\r\nconst rootReducer = combineReducers({\r\n  station,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport reduxThunk from \"redux-thunk\";\r\nimport rootReducer from \"./modules\";\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}